import{_ as T,D as r,c as e,b as o,w as l,a6 as Q,j as t,a as s,a5 as i,o as a,I as h}from"./chunks/framework.BCoxgnQ_.js";const h6=JSON.parse('{"title":"倍增LCA","description":"","frontmatter":{"title":"倍增LCA","mathjax":true,"tags":["倍增","LCA"],"categories":"图论","abbrlink":12115,"date":"2023-04-11 05:09:17","lastUpdated":"2023-04-11 05:09:17"},"headers":[],"relativePath":"_posts/博客/倍增LCA.md","filePath":"_posts/博客/倍增LCA.md","lastUpdated":1718520894000}'),d={name:"_posts/博客/倍增LCA.md"},p=i("",3),m=i("",4),k={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},c={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.566ex"},xmlns:"http://www.w3.org/2000/svg",width:"4.844ex",height:"2.262ex",role:"img",focusable:"false",viewBox:"0 -750 2141 1000","aria-hidden":"true"},g=i("",1),x=[g],_=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("mi",null,"O"),t("mo",{stretchy:"false"},"("),t("mi",null,"n"),t("mo",{stretchy:"false"},")")])],-1),w={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},u={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.566ex"},xmlns:"http://www.w3.org/2000/svg",width:"4.844ex",height:"2.262ex",role:"img",focusable:"false",viewBox:"0 -750 2141 1000","aria-hidden":"true"},y=i("",1),E=[y],f=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("mi",null,"O"),t("mo",{stretchy:"false"},"("),t("mi",null,"n"),t("mo",{stretchy:"false"},")")])],-1),V=t("h2",{id:"倍增求lca",tabindex:"-1"},[s("倍增求LCA "),t("a",{class:"header-anchor",href:"#倍增求lca","aria-label":'Permalink to "倍增求LCA"'},"​")],-1),H=t("h3",{id:"思想",tabindex:"-1"},[s("思想 "),t("a",{class:"header-anchor",href:"#思想","aria-label":'Permalink to "思想"'},"​")],-1),b=t("p",null,"上面朴素做法最大的问题是每次只移动一步， 当要移动的总步数很大时， 效率就很低。",-1),M=t("p",null,"因此， 能不能一次移动多步呢？",-1),v=t("p",null,[s("我们先来声明一下， 在树中， 每个结点可能有多个祖先， 如6的祖先有"),t("code",null,"4、3、1"),s(". 我们按顺序称4是6的第一个祖先， 3是6的第二祖先， 以此类推。")],-1),L={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},A={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.439ex"},xmlns:"http://www.w3.org/2000/svg",width:"30.457ex",height:"2.326ex",role:"img",focusable:"false",viewBox:"0 -833.9 13461.9 1027.9","aria-hidden":"true"},C=i("",1),Z=[C],D=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("mn",null,"10"),t("mo",null,"="),t("msup",null,[t("mn",null,"2"),t("mn",null,"3")]),t("mo",null,"+"),t("msup",null,[t("mn",null,"2"),t("mn",null,"1")]),t("mo",null,","),t("mn",null,"13"),t("mo",null,"="),t("msup",null,[t("mn",null,"2"),t("mn",null,"3")]),t("mo",null,"+"),t("msup",null,[t("mn",null,"2"),t("mn",null,"2")]),t("mo",null,"+"),t("msup",null,[t("mn",null,"2"),t("mn",null,"0")])])],-1),F=t("p",null,"假设从结果上看， a要向上移动10次， 我们可以让其移动到它第八个祖先， 再移动到当前结点的第二个祖先， 这样就只移动了两次。",-1),S={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},j={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.439ex"},xmlns:"http://www.w3.org/2000/svg",width:"15.221ex",height:"1.967ex",role:"img",focusable:"false",viewBox:"0 -675.5 6727.7 869.5","aria-hidden":"true"},B=i("",1),P=[B],I=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("msup",null,[t("mn",null,"2"),t("mi",null,"x")]),t("mo",null,","),t("mi",null,"x"),t("mo",null,"="),t("mn",null,"0"),t("mo",null,","),t("mn",null,"1"),t("mo",null,","),t("mn",null,"2."),t("mo",null,"."),t("mo",null,".")])],-1),N={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},z={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.566ex"},xmlns:"http://www.w3.org/2000/svg",width:"5.473ex",height:"2.262ex",role:"img",focusable:"false",viewBox:"0 -750 2419 1000","aria-hidden":"true"},R=i("",1),J=[R],G=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("mi",null,"f"),t("mo",{stretchy:"false"},"["),t("mi",null,"i"),t("mo",{stretchy:"false"},"]"),t("mo",{stretchy:"false"},"["),t("mi",null,"j"),t("mo",{stretchy:"false"},"]")])],-1),q=t("code",null,"i",-1),O={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},X={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"0"},xmlns:"http://www.w3.org/2000/svg",width:"1.978ex",height:"1.879ex",role:"img",focusable:"false",viewBox:"0 -830.4 874.3 830.4","aria-hidden":"true"},$=i("",1),U=[$],K=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("msup",null,[t("mn",null,"2"),t("mi",null,"j")])])],-1),W={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},Y={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.566ex"},xmlns:"http://www.w3.org/2000/svg",width:"5.407ex",height:"2.262ex",role:"img",focusable:"false",viewBox:"0 -750 2390 1000","aria-hidden":"true"},t1=i("",1),s1=[t1],a1=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("mi",null,"d"),t("mi",null,"e"),t("mi",null,"p"),t("mo",{stretchy:"false"},"["),t("mi",null,"i"),t("mo",{stretchy:"false"},"]")])],-1),e1=t("code",null,"i",-1),i1=t("p",null,"此时来考虑， 有了这些信息， 我们怎么求出两个结点的lca。",-1),l1=t("hr",null,null,-1),n1=t("p",null,"上面的暴力算法的第一步是， 将深度较大的结点上移至另一个结点的高度。",-1),o1=t("p",null,"我们假设a是深度较深的， b是深度较浅的。",-1),Q1=t("p",null,"要跳的步数是a-b， 从二进制的角度分析我们可以知道， 最少的跳数， 就是a-b转化为2进制后1的个数， 且每种幂次只需要跳一次。",-1),h1={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},T1={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"0"},xmlns:"http://www.w3.org/2000/svg",width:"2.724ex",height:"1.528ex",role:"img",focusable:"false",viewBox:"0 -675.5 1203.8 675.5","aria-hidden":"true"},r1=i("",1),d1=[r1],p1=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("msup",null,[t("mn",null,"2"),t("mi",null,"m")])])],-1),m1={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},k1={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"0"},xmlns:"http://www.w3.org/2000/svg",width:"1.871ex",height:"1.879ex",role:"img",focusable:"false",viewBox:"0 -830.4 827 830.4","aria-hidden":"true"},c1=i("",1),g1=[c1],x1=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("msup",null,[t("mn",null,"2"),t("mi",null,"i")])])],-1),_1=t("p",null,"再来考虑， 深度相同后， 怎么快速的找到两个结点的最近公共祖先。",-1),w1=t("p",null,"此时策略就有所不同了。",-1),u1=i("",8),y1=t("code",null,"u",-1),E1=t("code",null,"f",-1),f1={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},V1={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.566ex"},xmlns:"http://www.w3.org/2000/svg",width:"27.021ex",height:"2.262ex",role:"img",focusable:"false",viewBox:"0 -750 11943.4 1000","aria-hidden":"true"},H1=i("",1),b1=[H1],M1=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("mi",null,"f"),t("mo",{stretchy:"false"},"["),t("mi",null,"u"),t("mo",{stretchy:"false"},"]"),t("mo",{stretchy:"false"},"["),t("mi",null,"i"),t("mo",{stretchy:"false"},"]"),t("mo",null,"="),t("mi",null,"f"),t("mo",{stretchy:"false"},"["),t("mi",null,"f"),t("mo",{stretchy:"false"},"["),t("mi",null,"u"),t("mo",{stretchy:"false"},"]"),t("mo",{stretchy:"false"},"["),t("mi",null,"i"),t("mo",null,"−"),t("mn",null,"1"),t("mo",{stretchy:"false"},"]"),t("mo",{stretchy:"false"},"]"),t("mo",{stretchy:"false"},"["),t("mi",null,"i"),t("mo",null,"−"),t("mn",null,"1"),t("mo",{stretchy:"false"},"]")])],-1),v1=t("code",null,"u",-1),L1={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},A1={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"0"},xmlns:"http://www.w3.org/2000/svg",width:"1.871ex",height:"1.879ex",role:"img",focusable:"false",viewBox:"0 -830.4 827 830.4","aria-hidden":"true"},C1=i("",1),Z1=[C1],D1=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("msup",null,[t("mn",null,"2"),t("mi",null,"i")])])],-1),F1={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},S1={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"0"},xmlns:"http://www.w3.org/2000/svg",width:"3.915ex",height:"1.887ex",role:"img",focusable:"false",viewBox:"0 -833.9 1730.6 833.9","aria-hidden":"true"},j1=i("",1),B1=[j1],P1=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("msup",null,[t("mn",null,"2"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"i"),t("mo",null,"−"),t("mn",null,"1")])])])],-1),I1={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},N1={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"0"},xmlns:"http://www.w3.org/2000/svg",width:"3.915ex",height:"1.887ex",role:"img",focusable:"false",viewBox:"0 -833.9 1730.6 833.9","aria-hidden":"true"},z1=i("",1),R1=[z1],J1=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("msup",null,[t("mn",null,"2"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"i"),t("mo",null,"−"),t("mn",null,"1")])])])],-1),G1=i("",3),q1=i("",4),O1={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},X1={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.439ex"},xmlns:"http://www.w3.org/2000/svg",width:"7.858ex",height:"2.034ex",role:"img",focusable:"false",viewBox:"0 -705 3473.3 899","aria-hidden":"true"},$1=i("",1),U1=[$1],K1=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("mi",null,"N"),t("mo",null,","),t("mi",null,"M"),t("mo",null,","),t("mi",null,"S")])],-1),W1={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},Y1={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.186ex"},xmlns:"http://www.w3.org/2000/svg",width:"5.906ex",height:"1.731ex",role:"img",focusable:"false",viewBox:"0 -683 2610.4 765","aria-hidden":"true"},t2=i("",1),s2=[t2],a2=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("mi",null,"N"),t("mo",null,"−"),t("mn",null,"1")])],-1),e2={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},i2={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.464ex"},xmlns:"http://www.w3.org/2000/svg",width:"3.409ex",height:"1.464ex",role:"img",focusable:"false",viewBox:"0 -442 1506.7 647","aria-hidden":"true"},l2=i("",1),n2=[l2],o2=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("mi",null,"x"),t("mo",null,","),t("mi",null,"y")])],-1),Q2={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},h2={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.025ex"},xmlns:"http://www.w3.org/2000/svg",width:"1.294ex",height:"1.025ex",role:"img",focusable:"false",viewBox:"0 -442 572 453","aria-hidden":"true"},T2=t("g",{stroke:"currentColor",fill:"currentColor","stroke-width":"0",transform:"scale(1,-1)"},[t("g",{"data-mml-node":"math"},[t("g",{"data-mml-node":"mi"},[t("path",{"data-c":"1D465",d:"M52 289Q59 331 106 386T222 442Q257 442 286 424T329 379Q371 442 430 442Q467 442 494 420T522 361Q522 332 508 314T481 292T458 288Q439 288 427 299T415 328Q415 374 465 391Q454 404 425 404Q412 404 406 402Q368 386 350 336Q290 115 290 78Q290 50 306 38T341 26Q378 26 414 59T463 140Q466 150 469 151T485 153H489Q504 153 504 145Q504 144 502 134Q486 77 440 33T333 -11Q263 -11 227 52Q186 -10 133 -10H127Q78 -10 57 16T35 71Q35 103 54 123T99 143Q142 143 142 101Q142 81 130 66T107 46T94 41L91 40Q91 39 97 36T113 29T132 26Q168 26 194 71Q203 87 217 139T245 247T261 313Q266 340 266 352Q266 380 251 392T217 404Q177 404 142 372T93 290Q91 281 88 280T72 278H58Q52 284 52 289Z",style:{"stroke-width":"3"}})])])],-1),r2=[T2],d2=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("mi",null,"x")])],-1),p2={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},m2={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.464ex"},xmlns:"http://www.w3.org/2000/svg",width:"1.109ex",height:"1.464ex",role:"img",focusable:"false",viewBox:"0 -442 490 647","aria-hidden":"true"},k2=t("g",{stroke:"currentColor",fill:"currentColor","stroke-width":"0",transform:"scale(1,-1)"},[t("g",{"data-mml-node":"math"},[t("g",{"data-mml-node":"mi"},[t("path",{"data-c":"1D466",d:"M21 287Q21 301 36 335T84 406T158 442Q199 442 224 419T250 355Q248 336 247 334Q247 331 231 288T198 191T182 105Q182 62 196 45T238 27Q261 27 281 38T312 61T339 94Q339 95 344 114T358 173T377 247Q415 397 419 404Q432 431 462 431Q475 431 483 424T494 412T496 403Q496 390 447 193T391 -23Q363 -106 294 -155T156 -205Q111 -205 77 -183T43 -117Q43 -95 50 -80T69 -58T89 -48T106 -45Q150 -45 150 -87Q150 -107 138 -122T115 -142T102 -147L99 -148Q101 -153 118 -160T152 -167H160Q177 -167 186 -165Q219 -156 247 -127T290 -65T313 -9T321 21L315 17Q309 13 296 6T270 -6Q250 -11 231 -11Q185 -11 150 11T104 82Q103 89 103 113Q103 170 138 262T173 379Q173 380 173 381Q173 390 173 393T169 400T158 404H154Q131 404 112 385T82 344T65 302T57 280Q55 278 41 278H27Q21 284 21 287Z",style:{"stroke-width":"3"}})])])],-1),c2=[k2],g2=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("mi",null,"y")])],-1),x2={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},_2={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"0"},xmlns:"http://www.w3.org/2000/svg",width:"2.378ex",height:"1.545ex",role:"img",focusable:"false",viewBox:"0 -683 1051 683","aria-hidden":"true"},w2=t("g",{stroke:"currentColor",fill:"currentColor","stroke-width":"0",transform:"scale(1,-1)"},[t("g",{"data-mml-node":"math"},[t("g",{"data-mml-node":"mi"},[t("path",{"data-c":"1D440",d:"M289 629Q289 635 232 637Q208 637 201 638T194 648Q194 649 196 659Q197 662 198 666T199 671T201 676T203 679T207 681T212 683T220 683T232 684Q238 684 262 684T307 683Q386 683 398 683T414 678Q415 674 451 396L487 117L510 154Q534 190 574 254T662 394Q837 673 839 675Q840 676 842 678T846 681L852 683H948Q965 683 988 683T1017 684Q1051 684 1051 673Q1051 668 1048 656T1045 643Q1041 637 1008 637Q968 636 957 634T939 623Q936 618 867 340T797 59Q797 55 798 54T805 50T822 48T855 46H886Q892 37 892 35Q892 19 885 5Q880 0 869 0Q864 0 828 1T736 2Q675 2 644 2T609 1Q592 1 592 11Q592 13 594 25Q598 41 602 43T625 46Q652 46 685 49Q699 52 704 61Q706 65 742 207T813 490T848 631L654 322Q458 10 453 5Q451 4 449 3Q444 0 433 0Q418 0 415 7Q413 11 374 317L335 624L267 354Q200 88 200 79Q206 46 272 46H282Q288 41 289 37T286 19Q282 3 278 1Q274 0 267 0Q265 0 255 0T221 1T157 2Q127 2 95 1T58 0Q43 0 39 2T35 11Q35 13 38 25T43 40Q45 46 65 46Q135 46 154 86Q158 92 223 354T289 629Z",style:{"stroke-width":"3"}})])])],-1),u2=[w2],y2=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("mi",null,"M")])],-1),E2={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},f2={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.439ex"},xmlns:"http://www.w3.org/2000/svg",width:"3.173ex",height:"2.009ex",role:"img",focusable:"false",viewBox:"0 -694 1402.7 888","aria-hidden":"true"},V2=i("",1),H2=[V2],b2=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("mi",null,"a"),t("mo",null,","),t("mi",null,"b")])],-1),M2={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},v2={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.023ex"},xmlns:"http://www.w3.org/2000/svg",width:"1.197ex",height:"1.02ex",role:"img",focusable:"false",viewBox:"0 -441 529 451","aria-hidden":"true"},L2=t("g",{stroke:"currentColor",fill:"currentColor","stroke-width":"0",transform:"scale(1,-1)"},[t("g",{"data-mml-node":"math"},[t("g",{"data-mml-node":"mi"},[t("path",{"data-c":"1D44E",d:"M33 157Q33 258 109 349T280 441Q331 441 370 392Q386 422 416 422Q429 422 439 414T449 394Q449 381 412 234T374 68Q374 43 381 35T402 26Q411 27 422 35Q443 55 463 131Q469 151 473 152Q475 153 483 153H487Q506 153 506 144Q506 138 501 117T481 63T449 13Q436 0 417 -8Q409 -10 393 -10Q359 -10 336 5T306 36L300 51Q299 52 296 50Q294 48 292 46Q233 -10 172 -10Q117 -10 75 30T33 157ZM351 328Q351 334 346 350T323 385T277 405Q242 405 210 374T160 293Q131 214 119 129Q119 126 119 118T118 106Q118 61 136 44T179 26Q217 26 254 59T298 110Q300 114 325 217T351 328Z",style:{"stroke-width":"3"}})])])],-1),A2=[L2],C2=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("mi",null,"a")])],-1),Z2={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},D2={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.025ex"},xmlns:"http://www.w3.org/2000/svg",width:"0.971ex",height:"1.595ex",role:"img",focusable:"false",viewBox:"0 -694 429 705","aria-hidden":"true"},F2=t("g",{stroke:"currentColor",fill:"currentColor","stroke-width":"0",transform:"scale(1,-1)"},[t("g",{"data-mml-node":"math"},[t("g",{"data-mml-node":"mi"},[t("path",{"data-c":"1D44F",d:"M73 647Q73 657 77 670T89 683Q90 683 161 688T234 694Q246 694 246 685T212 542Q204 508 195 472T180 418L176 399Q176 396 182 402Q231 442 283 442Q345 442 383 396T422 280Q422 169 343 79T173 -11Q123 -11 82 27T40 150V159Q40 180 48 217T97 414Q147 611 147 623T109 637Q104 637 101 637H96Q86 637 83 637T76 640T73 647ZM336 325V331Q336 405 275 405Q258 405 240 397T207 376T181 352T163 330L157 322L136 236Q114 150 114 114Q114 66 138 42Q154 26 178 26Q211 26 245 58Q270 81 285 114T318 219Q336 291 336 325Z",style:{"stroke-width":"3"}})])])],-1),S2=[F2],j2=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("mi",null,"b")])],-1),B2=t("h2",{id:"输出格式",tabindex:"-1"},[s("输出格式 "),t("a",{class:"header-anchor",href:"#输出格式","aria-label":'Permalink to "输出格式"'},"​")],-1),P2={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},I2={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"0"},xmlns:"http://www.w3.org/2000/svg",width:"2.378ex",height:"1.545ex",role:"img",focusable:"false",viewBox:"0 -683 1051 683","aria-hidden":"true"},N2=t("g",{stroke:"currentColor",fill:"currentColor","stroke-width":"0",transform:"scale(1,-1)"},[t("g",{"data-mml-node":"math"},[t("g",{"data-mml-node":"mi"},[t("path",{"data-c":"1D440",d:"M289 629Q289 635 232 637Q208 637 201 638T194 648Q194 649 196 659Q197 662 198 666T199 671T201 676T203 679T207 681T212 683T220 683T232 684Q238 684 262 684T307 683Q386 683 398 683T414 678Q415 674 451 396L487 117L510 154Q534 190 574 254T662 394Q837 673 839 675Q840 676 842 678T846 681L852 683H948Q965 683 988 683T1017 684Q1051 684 1051 673Q1051 668 1048 656T1045 643Q1041 637 1008 637Q968 636 957 634T939 623Q936 618 867 340T797 59Q797 55 798 54T805 50T822 48T855 46H886Q892 37 892 35Q892 19 885 5Q880 0 869 0Q864 0 828 1T736 2Q675 2 644 2T609 1Q592 1 592 11Q592 13 594 25Q598 41 602 43T625 46Q652 46 685 49Q699 52 704 61Q706 65 742 207T813 490T848 631L654 322Q458 10 453 5Q451 4 449 3Q444 0 433 0Q418 0 415 7Q413 11 374 317L335 624L267 354Q200 88 200 79Q206 46 272 46H282Q288 41 289 37T286 19Q282 3 278 1Q274 0 267 0Q265 0 255 0T221 1T157 2Q127 2 95 1T58 0Q43 0 39 2T35 11Q35 13 38 25T43 40Q45 46 65 46Q135 46 154 86Q158 92 223 354T289 629Z",style:{"stroke-width":"3"}})])])],-1),z2=[N2],R2=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("mi",null,"M")])],-1),J2=i("",6),G2={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},q2={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.127ex"},xmlns:"http://www.w3.org/2000/svg",width:"4.147ex",height:"1.824ex",role:"img",focusable:"false",viewBox:"0 -750 1833 806","aria-hidden":"true"},O2=i("",1),X2=[O2],$2=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("mn",null,"30"),t("mi",{mathvariant:"normal"},"%")])],-1),U2={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},K2={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.312ex"},xmlns:"http://www.w3.org/2000/svg",width:"7.289ex",height:"1.857ex",role:"img",focusable:"false",viewBox:"0 -683 3221.6 821","aria-hidden":"true"},W2=i("",1),Y2=[W2],t3=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("mi",null,"N"),t("mo",null,"≤"),t("mn",null,"10")])],-1),s3={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},a3={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.312ex"},xmlns:"http://www.w3.org/2000/svg",width:"7.657ex",height:"1.857ex",role:"img",focusable:"false",viewBox:"0 -683 3384.6 821","aria-hidden":"true"},e3=i("",1),i3=[e3],l3=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("mi",null,"M"),t("mo",null,"≤"),t("mn",null,"10")])],-1),n3={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},o3={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.127ex"},xmlns:"http://www.w3.org/2000/svg",width:"4.147ex",height:"1.824ex",role:"img",focusable:"false",viewBox:"0 -750 1833 806","aria-hidden":"true"},Q3=i("",1),h3=[Q3],T3=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("mn",null,"70"),t("mi",{mathvariant:"normal"},"%")])],-1),r3={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},d3={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.312ex"},xmlns:"http://www.w3.org/2000/svg",width:"10.682ex",height:"1.857ex",role:"img",focusable:"false",viewBox:"0 -683 4721.6 821","aria-hidden":"true"},p3=i("",1),m3=[p3],k3=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("mi",null,"N"),t("mo",null,"≤"),t("mn",null,"10000")])],-1),c3={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},g3={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.312ex"},xmlns:"http://www.w3.org/2000/svg",width:"11.051ex",height:"1.857ex",role:"img",focusable:"false",viewBox:"0 -683 4884.6 821","aria-hidden":"true"},x3=i("",1),_3=[x3],w3=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("mi",null,"M"),t("mo",null,"≤"),t("mn",null,"10000")])],-1),u3={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},y3={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.127ex"},xmlns:"http://www.w3.org/2000/svg",width:"5.278ex",height:"1.824ex",role:"img",focusable:"false",viewBox:"0 -750 2333 806","aria-hidden":"true"},E3=i("",1),f3=[E3],V3=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("mn",null,"100"),t("mi",{mathvariant:"normal"},"%")])],-1),H3={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},b3={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.439ex"},xmlns:"http://www.w3.org/2000/svg",width:"19.346ex",height:"1.984ex",role:"img",focusable:"false",viewBox:"0 -683 8550.8 877","aria-hidden":"true"},M3=i("",1),v3=[M3],L3=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("mn",null,"1"),t("mo",null,"≤"),t("mi",null,"N"),t("mo",null,","),t("mi",null,"M"),t("mo",null,"≤"),t("mn",null,"500000")])],-1),A3={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},C3={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.464ex"},xmlns:"http://www.w3.org/2000/svg",width:"16.763ex",height:"2.034ex",role:"img",focusable:"false",viewBox:"0 -694 7409.1 899","aria-hidden":"true"},Z3=i("",1),D3=[Z3],F3=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("mn",null,"1"),t("mo",null,"≤"),t("mi",null,"x"),t("mo",null,","),t("mi",null,"y"),t("mo",null,","),t("mi",null,"a"),t("mo",null,","),t("mi",null,"b"),t("mo",null,"≤"),t("mi",null,"N")])],-1),S3=t("strong",null,"不保证",-1),j3={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},B3={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.486ex"},xmlns:"http://www.w3.org/2000/svg",width:"5.185ex",height:"2.106ex",role:"img",focusable:"false",viewBox:"0 -716 2291.6 931","aria-hidden":"true"},P3=i("",1),I3=[P3],N3=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("mi",null,"a"),t("mo",null,"≠"),t("mi",null,"b")])],-1),z3=t("p",null,"样例说明：",-1),R3=t("p",null,"该树结构如下：",-1),J3=t("p",null,[t("img",{src:"https://trudbot-md-img.oss-cn-shanghai.aliyuncs.com/2282.png",alt:""})],-1),G3={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},q3={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.439ex"},xmlns:"http://www.w3.org/2000/svg",width:"3.268ex",height:"1.971ex",role:"img",focusable:"false",viewBox:"0 -677 1444.7 871","aria-hidden":"true"},O3=i("",1),X3=[O3],$3=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("mn",null,"2"),t("mo",null,","),t("mn",null,"4")])],-1),U3={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},K3={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"0"},xmlns:"http://www.w3.org/2000/svg",width:"1.131ex",height:"1.532ex",role:"img",focusable:"false",viewBox:"0 -677 500 677","aria-hidden":"true"},W3=t("g",{stroke:"currentColor",fill:"currentColor","stroke-width":"0",transform:"scale(1,-1)"},[t("g",{"data-mml-node":"math"},[t("g",{"data-mml-node":"mn"},[t("path",{"data-c":"34",d:"M462 0Q444 3 333 3Q217 3 199 0H190V46H221Q241 46 248 46T265 48T279 53T286 61Q287 63 287 115V165H28V211L179 442Q332 674 334 675Q336 677 355 677H373L379 671V211H471V165H379V114Q379 73 379 66T385 54Q393 47 442 46H471V0H462ZM293 211V545L74 212L183 211H293Z",style:{"stroke-width":"3"}})])])],-1),Y3=[W3],t4=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("mn",null,"4")])],-1),s4={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},a4={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.439ex"},xmlns:"http://www.w3.org/2000/svg",width:"3.268ex",height:"1.946ex",role:"img",focusable:"false",viewBox:"0 -666 1444.7 860","aria-hidden":"true"},e4=i("",1),i4=[e4],l4=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("mn",null,"3"),t("mo",null,","),t("mn",null,"2")])],-1),n4={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},o4={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"0"},xmlns:"http://www.w3.org/2000/svg",width:"1.131ex",height:"1.532ex",role:"img",focusable:"false",viewBox:"0 -677 500 677","aria-hidden":"true"},Q4=t("g",{stroke:"currentColor",fill:"currentColor","stroke-width":"0",transform:"scale(1,-1)"},[t("g",{"data-mml-node":"math"},[t("g",{"data-mml-node":"mn"},[t("path",{"data-c":"34",d:"M462 0Q444 3 333 3Q217 3 199 0H190V46H221Q241 46 248 46T265 48T279 53T286 61Q287 63 287 115V165H28V211L179 442Q332 674 334 675Q336 677 355 677H373L379 671V211H471V165H379V114Q379 73 379 66T385 54Q393 47 442 46H471V0H462ZM293 211V545L74 212L183 211H293Z",style:{"stroke-width":"3"}})])])],-1),h4=[Q4],T4=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("mn",null,"4")])],-1),r4={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},d4={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.439ex"},xmlns:"http://www.w3.org/2000/svg",width:"3.268ex",height:"1.946ex",role:"img",focusable:"false",viewBox:"0 -666 1444.7 860","aria-hidden":"true"},p4=i("",1),m4=[p4],k4=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("mn",null,"3"),t("mo",null,","),t("mn",null,"5")])],-1),c4={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},g4={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"0"},xmlns:"http://www.w3.org/2000/svg",width:"1.131ex",height:"1.507ex",role:"img",focusable:"false",viewBox:"0 -666 500 666","aria-hidden":"true"},x4=t("g",{stroke:"currentColor",fill:"currentColor","stroke-width":"0",transform:"scale(1,-1)"},[t("g",{"data-mml-node":"math"},[t("g",{"data-mml-node":"mn"},[t("path",{"data-c":"31",d:"M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z",style:{"stroke-width":"3"}})])])],-1),_4=[x4],w4=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("mn",null,"1")])],-1),u4={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},y4={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.439ex"},xmlns:"http://www.w3.org/2000/svg",width:"3.268ex",height:"1.946ex",role:"img",focusable:"false",viewBox:"0 -666 1444.7 860","aria-hidden":"true"},E4=i("",1),f4=[E4],V4=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("mn",null,"1"),t("mo",null,","),t("mn",null,"2")])],-1),H4={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},b4={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"0"},xmlns:"http://www.w3.org/2000/svg",width:"1.131ex",height:"1.532ex",role:"img",focusable:"false",viewBox:"0 -677 500 677","aria-hidden":"true"},M4=t("g",{stroke:"currentColor",fill:"currentColor","stroke-width":"0",transform:"scale(1,-1)"},[t("g",{"data-mml-node":"math"},[t("g",{"data-mml-node":"mn"},[t("path",{"data-c":"34",d:"M462 0Q444 3 333 3Q217 3 199 0H190V46H221Q241 46 248 46T265 48T279 53T286 61Q287 63 287 115V165H28V211L179 442Q332 674 334 675Q336 677 355 677H373L379 671V211H471V165H379V114Q379 73 379 66T385 54Q393 47 442 46H471V0H462ZM293 211V545L74 212L183 211H293Z",style:{"stroke-width":"3"}})])])],-1),v4=[M4],L4=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("mn",null,"4")])],-1),A4={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},C4={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.439ex"},xmlns:"http://www.w3.org/2000/svg",width:"3.268ex",height:"1.971ex",role:"img",focusable:"false",viewBox:"0 -677 1444.7 871","aria-hidden":"true"},Z4=i("",1),D4=[Z4],F4=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("mn",null,"4"),t("mo",null,","),t("mn",null,"5")])],-1),S4={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},j4={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"0"},xmlns:"http://www.w3.org/2000/svg",width:"1.131ex",height:"1.532ex",role:"img",focusable:"false",viewBox:"0 -677 500 677","aria-hidden":"true"},B4=t("g",{stroke:"currentColor",fill:"currentColor","stroke-width":"0",transform:"scale(1,-1)"},[t("g",{"data-mml-node":"math"},[t("g",{"data-mml-node":"mn"},[t("path",{"data-c":"34",d:"M462 0Q444 3 333 3Q217 3 199 0H190V46H221Q241 46 248 46T265 48T279 53T286 61Q287 63 287 115V165H28V211L179 442Q332 674 334 675Q336 677 355 677H373L379 671V211H471V165H379V114Q379 73 379 66T385 54Q393 47 442 46H471V0H462ZM293 211V545L74 212L183 211H293Z",style:{"stroke-width":"3"}})])])],-1),P4=[B4],I4=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("mn",null,"4")])],-1),N4={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},z4={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.439ex"},xmlns:"http://www.w3.org/2000/svg",width:"9.68ex",height:"1.971ex",role:"img",focusable:"false",viewBox:"0 -677 4278.7 871","aria-hidden":"true"},R4=i("",1),J4=[R4],G4=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("mn",null,"4"),t("mo",null,","),t("mn",null,"4"),t("mo",null,","),t("mn",null,"1"),t("mo",null,","),t("mn",null,"4"),t("mo",null,","),t("mn",null,"4")])],-1),q4=t("p",null,"2021/10/4 数据更新 @fstqwq：应要求加了两组数据卡掉了暴力跳。",-1),O4=t("h4",{id:"注意点",tabindex:"-1"},[s("注意点 "),t("a",{class:"header-anchor",href:"#注意点","aria-label":'Permalink to "注意点"'},"​")],-1),X4={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},$4={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"0"},xmlns:"http://www.w3.org/2000/svg",width:"2.919ex",height:"1.887ex",role:"img",focusable:"false",viewBox:"0 -833.9 1290.1 833.9","aria-hidden":"true"},U4=i("",1),K4=[U4],W4=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("msup",null,[t("mn",null,"2"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mn",null,"20")])])])],-1),Y4=t("li",null,"结点编号一般从1开始， 0作为根结点的父节点， 0高度为0， 且0的父节点是0",-1),t6=i("",6);function s6(a6,e6,i6,l6,n6,o6){const n=r("Mermaid");return a(),e("div",null,[p,(a(),o(Q,null,{default:l(()=>[h(n,{id:"mermaid-10",class:"mermaid trudbot-mermaid",graph:"graph%20TD%3B%0A1((1))%20---%202((2))%0A1%20---%203((3))%0A3%20---%204((4))%0A3%20---%205((5))%0A4%20---%206((6))%0A"})]),fallback:l(()=>[s(" Loading... ")]),_:1})),m,t("p",null,[s("预处理中， 只需要遍历一遍树， 时间复杂度为"),t("mjx-container",k,[(a(),e("svg",c,x)),_])]),t("p",null,[s("求lca过程中， 考虑树构成一条链的极端情况， 此时时间复杂度为"),t("mjx-container",w,[(a(),e("svg",u,E)),f]),s(", 在查询次数多时显然是无法让人接受的。")]),V,H,b,M,(a(),o(Q,null,{default:l(()=>[h(n,{id:"mermaid-53",class:"mermaid trudbot-mermaid",graph:"graph%20TD%3B%0A1((1))%20---%202((2))%0A1%20---%203((3))%0A3%20---%204((4))%0A3%20---%205((5))%0A4%20---%206((6))%0A"})]),fallback:l(()=>[s(" Loading... ")]),_:1})),v,t("p",null,[s("众所周知， 任何一个正整数x转化为二进制， 都可以表示为若干唯一的2的不同幂次的和， 如"),t("mjx-container",L,[(a(),e("svg",A,Z)),D]),s(".")]),F,t("p",null,[s("但上述的前提是， 你需要记录每个结点的第"),t("mjx-container",S,[(a(),e("svg",j,P)),I]),s("个祖先是谁。")]),t("p",null,[s("我们定义"),t("mjx-container",N,[(a(),e("svg",z,J)),G]),s("为， "),q,s("号结点的第"),t("mjx-container",O,[(a(),e("svg",X,U)),K]),s("个祖先， 先假设已经求出了这个数组。")]),t("p",null,[s("同样的， 定义"),t("mjx-container",W,[(a(),e("svg",Y,s1)),a1]),s("为"),e1,s("号结点的深度。")]),i1,l1,n1,o1,Q1,t("p",null,[s("因此我们从一个上限m("),t("mjx-container",h1,[(a(),e("svg",T1,d1)),p1]),s("大于树的最大深度)开始向下枚举， 若a向上跳"),t("mjx-container",m1,[(a(),e("svg",k1,g1)),x1]),s("步后， 深度不会小于b， 那就往上跳；最终可以快速的到达与b相同的深度。")]),_1,w1,(a(),o(Q,null,{default:l(()=>[h(n,{id:"mermaid-94",class:"mermaid trudbot-mermaid",graph:"graph%20TD%3B%0A1((1))%20---%202((2))%0A1%20---%203((3))%0A3%20---%204((4))%0A3%20---%205((5))%0A4%20---%206((6))%0A"})]),fallback:l(()=>[s(" Loading... ")]),_:1})),u1,t("p",null,[s("假设"),y1,s("的所有祖先的"),E1,s("信息我们都已经得到， 且已知了u的父结点(f[x][0])， 那么有递推式"),t("mjx-container",f1,[(a(),e("svg",V1,b1)),M1]),s("， 也就是"),v1,s("的第"),t("mjx-container",L1,[(a(),e("svg",A1,Z1)),D1]),s("个祖先是 u的第"),t("mjx-container",F1,[(a(),e("svg",S1,B1)),P1]),s("个祖先的第"),t("mjx-container",I1,[(a(),e("svg",N1,R1)),J1]),s("个祖先， 并不难理解。")]),G1,t("blockquote",null,[q1,t("p",null,[s("第一行包含三个正整数 "),t("mjx-container",O1,[(a(),e("svg",X1,U1)),K1]),s("，分别表示树的结点个数、询问的个数和树根结点的序号。")]),t("p",null,[s("接下来 "),t("mjx-container",W1,[(a(),e("svg",Y1,s2)),a2]),s(" 行每行包含两个正整数 "),t("mjx-container",e2,[(a(),e("svg",i2,n2)),o2]),s("，表示 "),t("mjx-container",Q2,[(a(),e("svg",h2,r2)),d2]),s(" 结点和 "),t("mjx-container",p2,[(a(),e("svg",m2,c2)),g2]),s(" 结点之间有一条直接连接的边（数据保证可以构成树）。")]),t("p",null,[s("接下来 "),t("mjx-container",x2,[(a(),e("svg",_2,u2)),y2]),s(" 行每行包含两个正整数 "),t("mjx-container",E2,[(a(),e("svg",f2,H2)),b2]),s("，表示询问 "),t("mjx-container",M2,[(a(),e("svg",v2,A2)),C2]),s(" 结点和 "),t("mjx-container",Z2,[(a(),e("svg",D2,S2)),j2]),s(" 结点的最近公共祖先。")]),B2,t("p",null,[s("输出包含 "),t("mjx-container",P2,[(a(),e("svg",I2,z2)),R2]),s(" 行，每行包含一个正整数，依次为每一个询问的结果。")]),J2,t("p",null,[s("对于 "),t("mjx-container",G2,[(a(),e("svg",q2,X2)),$2]),s(" 的数据，"),t("mjx-container",U2,[(a(),e("svg",K2,Y2)),t3]),s("，"),t("mjx-container",s3,[(a(),e("svg",a3,i3)),l3]),s("。")]),t("p",null,[s("对于 "),t("mjx-container",n3,[(a(),e("svg",o3,h3)),T3]),s(" 的数据，"),t("mjx-container",r3,[(a(),e("svg",d3,m3)),k3]),s("，"),t("mjx-container",c3,[(a(),e("svg",g3,_3)),w3]),s("。")]),t("p",null,[s("对于 "),t("mjx-container",u3,[(a(),e("svg",y3,f3)),V3]),s(" 的数据，"),t("mjx-container",H3,[(a(),e("svg",b3,v3)),L3]),s("，"),t("mjx-container",A3,[(a(),e("svg",C3,D3)),F3]),s("，"),S3,s(),t("mjx-container",j3,[(a(),e("svg",B3,I3)),N3]),s("。")]),z3,R3,J3,t("p",null,[s("第一次询问："),t("mjx-container",G3,[(a(),e("svg",q3,X3)),$3]),s(" 的最近公共祖先，故为 "),t("mjx-container",U3,[(a(),e("svg",K3,Y3)),t4]),s("。")]),t("p",null,[s("第二次询问："),t("mjx-container",s4,[(a(),e("svg",a4,i4)),l4]),s(" 的最近公共祖先，故为 "),t("mjx-container",n4,[(a(),e("svg",o4,h4)),T4]),s("。")]),t("p",null,[s("第三次询问："),t("mjx-container",r4,[(a(),e("svg",d4,m4)),k4]),s(" 的最近公共祖先，故为 "),t("mjx-container",c4,[(a(),e("svg",g4,_4)),w4]),s("。")]),t("p",null,[s("第四次询问："),t("mjx-container",u4,[(a(),e("svg",y4,f4)),V4]),s(" 的最近公共祖先，故为 "),t("mjx-container",H4,[(a(),e("svg",b4,v4)),L4]),s("。")]),t("p",null,[s("第五次询问："),t("mjx-container",A4,[(a(),e("svg",C4,D4)),F4]),s(" 的最近公共祖先，故为 "),t("mjx-container",S4,[(a(),e("svg",j4,P4)),I4]),s("。")]),t("p",null,[s("故输出依次为 "),t("mjx-container",N4,[(a(),e("svg",z4,J4)),G4]),s("。")]),q4]),O4,t("ul",null,[t("li",null,[s("结点个数最大是5e5， 而"),t("mjx-container",X4,[(a(),e("svg",$4,K4)),W4]),s("是1e6多一点， 所以MAX取20或19即可。")]),Y4]),t6])}const T6=T(d,[["render",s6]]);export{h6 as __pageData,T6 as default};
